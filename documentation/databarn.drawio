<mxfile host="app.diagrams.net" modified="2023-11-05T16:02:35.923Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36" etag="zb2i4955eUjn07EI57T3" version="22.0.8" type="github">
  <diagram name="Page-1" id="d61cFQMUThN0K3jyABDj">
    <mxGraphModel dx="2043" dy="1915" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="mptU31HQFR-m2cuub4Bu-2" value="explorer call" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="270" y="-320" width="120" height="32.2" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-3" value="rpc call" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="270" y="-280" width="108.12" height="32.2" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-4" value="git call" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="270" y="-360" width="108.12" height="32.2" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-5" value="db call" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="270" y="-240" width="108.12" height="32.2" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-6" value="beefy api call" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="270" y="-200" width="120" height="32.2" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-7" value="thegraph call" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="270" y="-158.5" width="120" height="32.2" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-27" value="Archive every raw data source" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="210" width="1380" height="530" as="geometry">
            <mxRectangle x="380" y="-230" width="80" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" target="mptU31HQFR-m2cuub4Bu-31">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="250" y="358" as="targetPoint" />
            <mxPoint x="150" y="297.75" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" target="mptU31HQFR-m2cuub4Bu-32">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" target="mptU31HQFR-m2cuub4Bu-33">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-11" value="Any raw source" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-27">
          <mxGeometry x="90" y="322.20000000000005" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-17" value="raw data stream" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-27">
          <mxGeometry x="390" y="237.2" width="30" height="230" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" source="mptU31HQFR-m2cuub4Bu-11" target="mptU31HQFR-m2cuub4Bu-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-19" value="Raw data archives" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-27">
          <mxGeometry x="705" y="136.09999999999997" width="120" height="113.9" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" source="mptU31HQFR-m2cuub4Bu-17" target="mptU31HQFR-m2cuub4Bu-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-24" value="Further processing" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-27">
          <mxGeometry x="705" y="322.20000000000005" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" source="mptU31HQFR-m2cuub4Bu-17" target="mptU31HQFR-m2cuub4Bu-24">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="685" y="352" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-25" value="Probably some parquet files" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-27">
          <mxGeometry x="625" y="70" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;endArrow=none;endFill=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" source="mptU31HQFR-m2cuub4Bu-25" target="mptU31HQFR-m2cuub4Bu-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-42" value="&lt;h1&gt;All raw data must be archived&lt;/h1&gt;&lt;p&gt;We don&#39;t care how much space it takes, we keep all the data.&lt;/p&gt;&lt;p&gt;Having streams make it easy to pour all data into an archive for further processing or replays if needed. We just can&#39;t loose the data.&lt;/p&gt;&lt;p&gt;We do not need to archive intermediate representations&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-27">
          <mxGeometry x="70" y="80" width="360" height="160" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;dashed=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" source="mptU31HQFR-m2cuub4Bu-43">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1320" y="352.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-43" value="enriched / cleaned stream" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-27">
          <mxGeometry x="1050" y="238" width="30" height="230" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" source="mptU31HQFR-m2cuub4Bu-24" target="mptU31HQFR-m2cuub4Bu-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" source="mptU31HQFR-m2cuub4Bu-45" target="mptU31HQFR-m2cuub4Bu-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-45" value="another stream" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-27">
          <mxGeometry x="390" y="300" width="30" height="230" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-27" target="mptU31HQFR-m2cuub4Bu-45">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="415" as="sourcePoint" />
            <mxPoint x="280" y="414.78999999999996" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-82" value="foldable block" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="-360" width="140" height="90" as="geometry">
            <mxRectangle x="380" y="-230" width="80" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-82">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-82">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-102" value="Beefy API sources" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-310" y="2270" width="1260" height="830" as="geometry">
            <mxRectangle x="380" y="-230" width="80" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-9" value="Boosts Source:&amp;nbsp;/boosts&lt;br&gt;func_key: chain, contract_address" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="90" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-10" target="mptU31HQFR-m2cuub4Bu-113">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-10" value="Vaults Source:&amp;nbsp;/vaults&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;func_key: chain, contract_address" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="150" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-215" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-52" target="mptU31HQFR-m2cuub4Bu-214">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-52" value="boost updates" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="450" y="60" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-56" value="APY Source:&amp;nbsp;/apy&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;func_key: vault-id, now()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="620" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-57" value="TVL Source:&amp;nbsp;/tvl&lt;br&gt;func_key: vault-id, now()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="680" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-60" value="tvl snaps" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="310" y="650" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-58" value="apy snaps" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="310" y="590" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-57" target="mptU31HQFR-m2cuub4Bu-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-56" target="mptU31HQFR-m2cuub4Bu-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-105" value="Price data, snapshot every ~15min" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="350" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-106" value="Referencial data: change capture every 15min" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="60" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-109" value="snap to cdc" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="265" y="100" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-9" target="mptU31HQFR-m2cuub4Bu-109">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-109" target="mptU31HQFR-m2cuub4Bu-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-216" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-112" target="mptU31HQFR-m2cuub4Bu-214">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-112" value="vault updates" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="450" y="120" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-113" target="mptU31HQFR-m2cuub4Bu-112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-113" value="snap to cdc" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="265" y="160" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-116" value="Fees Source:&amp;nbsp;/fees&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;func_key: vault-id" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="210" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-117" value="vault updates" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="450" y="180" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-118" target="mptU31HQFR-m2cuub4Bu-117">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-118" value="snap to cdc" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="265" y="220" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-116" target="mptU31HQFR-m2cuub4Bu-118">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-121" value="LP prices:&amp;nbsp;/lps&lt;br&gt;func_key: vault-id, now()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="380" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-122" value="lp price updates" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="310" y="350" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-121" target="mptU31HQFR-m2cuub4Bu-122">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-124" value="LP brk price Source:&amp;nbsp;/lps/breakdown&lt;br&gt;func_key: vault-id, now()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="740" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-125" value="lp brk price snaps" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="310" y="710" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-124" target="mptU31HQFR-m2cuub4Bu-125">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-127" value="Token Source:&amp;nbsp;/tokens&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;func_key: chain, contract_address" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="270" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-128" value="token updates" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="450" y="240" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-130" target="mptU31HQFR-m2cuub4Bu-128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-130" value="snap to cdc" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="265" y="280" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-131" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-127" target="mptU31HQFR-m2cuub4Bu-130">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-132" value="moo token prices Source:&amp;nbsp;/mootokenprice&lt;br&gt;func_key: oracle_id, now()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="440" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-133" value="mootoken price updates" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="310" y="410" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-134" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-132" target="mptU31HQFR-m2cuub4Bu-133">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-135" value="Price data, snapshot every ~15min" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="590" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-136" value="token prices Source:&amp;nbsp;/prices&lt;br&gt;func_key: oracle_id, now()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="40" y="500" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-137" value="token price updates" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="310" y="470" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-138" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-136" target="mptU31HQFR-m2cuub4Bu-137">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-235" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-214" target="mptU31HQFR-m2cuub4Bu-234">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-214" value="define beefy products" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="630" y="124" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-243" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-102" source="mptU31HQFR-m2cuub4Bu-234" target="mptU31HQFR-m2cuub4Bu-242">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-234" value="extract contracts commands" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="840" y="124" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-242" value="extract logs to watch" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-102">
          <mxGeometry x="1050" y="124" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-139" value="RPC Event sources" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1130" y="1860" width="1950" height="600" as="geometry">
            <mxRectangle x="380" y="-230" width="80" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-140" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-142" value="explorer events" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="750" y="214" width="120" height="52.2" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-143" target="mptU31HQFR-m2cuub4Bu-159">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="955" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-143" value="rpc websockets" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="750" y="335" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-144" target="mptU31HQFR-m2cuub4Bu-160">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="955" y="255" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-144" value="rpc getLogs" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="750" y="145" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-145" value="chain logs" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="1810" y="305" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" target="mptU31HQFR-m2cuub4Bu-158" source="mptU31HQFR-m2cuub4Bu-142">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="915" y="255" as="sourcePoint" />
            <mxPoint x="955" y="186" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-183" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-157" target="mptU31HQFR-m2cuub4Bu-182">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-157" value="event de-duplicate" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="1430" y="335" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-161" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-158" target="mptU31HQFR-m2cuub4Bu-200">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-158" value="explorer query +&amp;nbsp; events" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="975" y="185" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-162" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-159" target="mptU31HQFR-m2cuub4Bu-157">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-159" value="websockets events" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="975" y="305" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-163" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-160" target="mptU31HQFR-m2cuub4Bu-200">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-160" value="rpc query + events" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="975" y="115" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-174" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-166" target="mptU31HQFR-m2cuub4Bu-188">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-175" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-166" target="mptU31HQFR-m2cuub4Bu-189">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-197" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-166" target="mptU31HQFR-m2cuub4Bu-196">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-166" value="Event import decisions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="330" y="260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-184" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-182" target="mptU31HQFR-m2cuub4Bu-145">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-182" value="event clean" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="1590" y="340" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-190" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-188" target="mptU31HQFR-m2cuub4Bu-142">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-191" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-188" target="mptU31HQFR-m2cuub4Bu-144">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-188" value="Query optimizer" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="560" y="175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-192" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-189" target="mptU31HQFR-m2cuub4Bu-143">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-189" value="Live feed&lt;br&gt;configure" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="560" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-196" value="event ingestion state" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="340" y="365" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-198" value="For all watched contracts and event types, remembers what is still to be fetched, what is to retry, etc" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="310" y="485" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-199" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;endArrow=none;endFill=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-198" target="mptU31HQFR-m2cuub4Bu-196">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-204" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-200" target="mptU31HQFR-m2cuub4Bu-157">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-205" value="events" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="mptU31HQFR-m2cuub4Bu-204">
          <mxGeometry x="-0.4457" y="2" relative="1" as="geometry">
            <mxPoint x="13" y="-8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-200" value="query status extract" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="1150" y="185" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-203" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-201" target="mptU31HQFR-m2cuub4Bu-166">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-208" value="Notifies the optimiser to retry or validate these ranges" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="mptU31HQFR-m2cuub4Bu-203">
          <mxGeometry x="0.0525" y="-2" relative="1" as="geometry">
            <mxPoint x="25" y="-13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-201" value="query status" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="1110" y="45" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-202" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-200" target="mptU31HQFR-m2cuub4Bu-201">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-206" value="query status" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="mptU31HQFR-m2cuub4Bu-202">
          <mxGeometry x="-0.1662" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-241" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-139" source="mptU31HQFR-m2cuub4Bu-240" target="mptU31HQFR-m2cuub4Bu-166">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-240" value="new logs to watch" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-139">
          <mxGeometry x="160" y="220" width="30" height="140" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-152" value="Stateless processing" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="-370" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-154" value="Stateful processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="460" y="-320" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-155" value="Sources" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="270" y="-400" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-156" value="Processing" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="460" y="-400" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-167" value="Blockchain Blocks" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="1530" width="840" height="242.5" as="geometry">
            <mxRectangle x="380" y="-230" width="80" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-168" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-167">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-169" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-167">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-172" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-167" source="mptU31HQFR-m2cuub4Bu-170" target="mptU31HQFR-m2cuub4Bu-171">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-170" value="rpc websockets" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-167">
          <mxGeometry x="60" y="82.5" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-179" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-167" source="mptU31HQFR-m2cuub4Bu-171" target="mptU31HQFR-m2cuub4Bu-178">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-171" value="ws blocks" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-167">
          <mxGeometry x="300" y="52.5" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-181" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-167" source="mptU31HQFR-m2cuub4Bu-178" target="mptU31HQFR-m2cuub4Bu-180">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-178" value="block clean" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-167">
          <mxGeometry x="450" y="87.5" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-180" value="chain blocks" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-167">
          <mxGeometry x="680" y="52.5" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-173" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="mptU31HQFR-m2cuub4Bu-180" target="mptU31HQFR-m2cuub4Bu-166">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="610" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-209" value="Contract Creation fetch" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="1820" width="880" height="310" as="geometry">
            <mxRectangle x="380" y="-230" width="80" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-210" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-209">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-211" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-209">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-222" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-209" source="mptU31HQFR-m2cuub4Bu-218" target="mptU31HQFR-m2cuub4Bu-221">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-218" value="explorer contract creation block" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-209">
          <mxGeometry x="430" y="143.9" width="120" height="52.2" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-220" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-209" source="mptU31HQFR-m2cuub4Bu-219" target="mptU31HQFR-m2cuub4Bu-218">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-219" value="fetch contract creation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-209">
          <mxGeometry x="240" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-221" value="contract creation block" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-209">
          <mxGeometry x="700" y="90" width="30" height="160" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-230" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-209" source="mptU31HQFR-m2cuub4Bu-225" target="mptU31HQFR-m2cuub4Bu-219">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-225" value="contract creation fetch errors" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-209">
          <mxGeometry x="470" y="30" width="30" height="120" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-231" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-209" source="mptU31HQFR-m2cuub4Bu-218" target="mptU31HQFR-m2cuub4Bu-225">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-237" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-209" source="mptU31HQFR-m2cuub4Bu-236" target="mptU31HQFR-m2cuub4Bu-219">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-236" value="new contracts&amp;nbsp;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-209">
          <mxGeometry x="100" y="110" width="30" height="120" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-228" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="mptU31HQFR-m2cuub4Bu-221" target="mptU31HQFR-m2cuub4Bu-166">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-229" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" edge="1" parent="1" source="mptU31HQFR-m2cuub4Bu-234" target="mptU31HQFR-m2cuub4Bu-236">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-501" y="2493" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="605" y="2199" />
              <mxPoint x="10" y="2199" />
              <mxPoint x="10" y="1990" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-244" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" edge="1" parent="1" source="mptU31HQFR-m2cuub4Bu-242" target="mptU31HQFR-m2cuub4Bu-240">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-246" value="rpc workers" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="820" width="780" height="480" as="geometry">
            <mxRectangle x="380" y="-230" width="80" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-247" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-248" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;jumpStyle=arc;jumpSize=12;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="298.25000000000045" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-255" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-249" target="mptU31HQFR-m2cuub4Bu-252">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-249" value="new rpc work requests" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="148.75" y="155" width="30" height="140" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-251" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;dashed=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-250" target="mptU31HQFR-m2cuub4Bu-249">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-250" value="&lt;ul style=&quot;&quot;&gt;&lt;li&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;type of query: events in range, contract call, block, balance&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;query details: chain, range, etc... depends on query type&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;priority: asap, important, when possible&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;retry profile: insist, drop it after X?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;cache policy: skip state cache, use state cache&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="40" y="40" width="247.5" height="130" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-257" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-252" target="mptU31HQFR-m2cuub4Bu-256">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-259" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-252" target="mptU31HQFR-m2cuub4Bu-260">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="317.55555555555566" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-264" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-252" target="mptU31HQFR-m2cuub4Bu-263">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-268" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-252" target="mptU31HQFR-m2cuub4Bu-267">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-270" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-252" target="mptU31HQFR-m2cuub4Bu-269">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-252" value="Query optimizer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="331.25" y="195" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-254" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=none;endFill=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-253" target="mptU31HQFR-m2cuub4Bu-252">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-253" value="&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Waits for &quot;enough&quot; queries to arrive&lt;/span&gt;&lt;br&gt;&lt;/li&gt;&lt;li style=&quot;border-color: var(--border-color);&quot;&gt;De-duplicate requests&lt;/li&gt;&lt;li&gt;Batches requests when possible&lt;/li&gt;&lt;li&gt;Knows about RPC query limitations&lt;/li&gt;&lt;li&gt;Knows about RPC rate limiting&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="261.87" y="80" width="258.75" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-256" value="Pending queries state" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="351.25" y="340" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-260" value="RPC config&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;list, limitations, urls, secrets" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.document" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="210" y="340" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-262" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;dashed=1;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-261" target="mptU31HQFR-m2cuub4Bu-260">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-261" value="can probably be dynamic at some point" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="80" y="375" width="98.75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-263" value="query + result" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="680" y="137.5" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-267" value="non-transient query errors" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;horizontal=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="680" y="202.5" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-269" value="Dynamicly discovered RPC properties" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;dashed=1;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="480" y="340" width="90" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-273" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=none;endFill=0;" edge="1" parent="mptU31HQFR-m2cuub4Bu-246" source="mptU31HQFR-m2cuub4Bu-272" target="mptU31HQFR-m2cuub4Bu-269">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-272" value="&lt;span style=&quot;background-color: initial;&quot;&gt;remembers how reliable RPC are at the current time&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="mptU31HQFR-m2cuub4Bu-246">
          <mxGeometry x="600" y="360" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-275" value="&lt;h1&gt;&lt;font style=&quot;font-size: 60px;&quot;&gt;Legend&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="90" y="-510" width="410" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-276" value="&lt;h1&gt;&lt;font style=&quot;font-size: 60px;&quot;&gt;Reusable blocks&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="640" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-277" value="&lt;h1&gt;&lt;font style=&quot;font-size: 60px;&quot;&gt;Databarn&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="90" y="1410" width="640" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-278" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;endWidth=44.8;endSize=18.2;width=42.4;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="1060" as="sourcePoint" />
            <mxPoint x="1100" y="1060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-291" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=none;endFill=0;" edge="1" parent="1" source="mptU31HQFR-m2cuub4Bu-290" target="mptU31HQFR-m2cuub4Bu-279">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-290" value="&lt;span style=&quot;background-color: initial;&quot;&gt;This is a singleton, all instances of this block refers to the same instance of workers.&lt;br&gt;This is needed to avoid synchronization of rate limit&lt;br&gt;&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1158.75" y="890" width="202.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-282" value="out&amp;nbsp;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=3.2857142857142208;rotation=90;horizontal=0;align=right;container=0;" vertex="1" parent="1">
          <mxGeometry x="1291.25" y="991.25" width="17.5" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-286" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;container=0;" vertex="1" parent="1">
          <mxGeometry x="1348" y="1038" width="7" height="17" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-283" value="err&amp;nbsp;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=3.2857142857142208;rotation=90;horizontal=0;align=right;container=0;" vertex="1" parent="1">
          <mxGeometry x="1291.25" y="1022.25" width="17.5" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-281" value="in" style="shape=xor;whiteSpace=wrap;html=1;container=0;" vertex="1" parent="1">
          <mxGeometry x="1170" y="1040" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-279" value="RPC Query&lt;br&gt;Workers" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;container=0;" vertex="1" parent="1">
          <mxGeometry x="1200" y="1020" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-287" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;container=0;" vertex="1" parent="1">
          <mxGeometry x="1348" y="1068.75" width="7" height="17" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-341" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;endWidth=44.8;endSize=18.2;width=42.4;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1600" y="520" as="sourcePoint" />
            <mxPoint x="1780" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-342" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8.5;rotation=90;fillColor=#d5e8d4;horizontal=0;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1890" y="470" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-344" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=none;endFill=0;" edge="1" parent="1" source="mptU31HQFR-m2cuub4Bu-343" target="mptU31HQFR-m2cuub4Bu-342">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mptU31HQFR-m2cuub4Bu-343" value="&lt;span style=&quot;background-color: initial;&quot;&gt;Any green pipe means we archive all events of this stream in archive storage&lt;br&gt;&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1804" y="370" width="202.5" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
